
# 配置概述

![](http://ww1.sinaimg.cn/large/005N2p5vly1frm8i1jzh4j30ri0a63zm.jpg)

# 配置Alluxio

# 1 集群条件

## 1.1 通用：

1. 操作系统：

    - OS X 10.10 or later
    - CentOS - 6.8 or 7
    - RHEL - 7.x
    - Ubuntu - 14.04

2. Java JDK 7 - update 79 or later

3. Alluxio仅在IPv4网络下工作

4. 允许使用如下端口和协议：

    - Inbound TCP 22 - Alluxio Manager can ssh as a user to install Alluxio components across specified nodes.


## 1.2 Master节点

1. 最小 1g 硬盘容量
2. 最小 4g 内存
3. 最小 4CPUs
4. 允许使用如下端口和协议：
    - Inbound TCP 19998 - Used by clients and workers to invoke master functionality.
    - Inbound TCP 19999 - Used by Alluxio Manager to invoke master functionality and to display the web UI at master-hostname:19999.

**未完待续**

# 2.配置SSH免密登录

1. 每个节点配置SSH免密登录

        cd ~/.ssh
        ssh-keygen -t rsa
        chmod 600 authorized_keys
        cat id_rsa.pub >> authorized_keys

2. 将各个节点上的SSH密钥分发到所有节点上

        # 节点sp的密钥追加到节点spark的authorized_keys下
        cat /root/.ssh/id_rsa.pub | ssh root@spark 'cat >> /root/.ssh/authorized_keys'

        #其他节点的操作类似。如果节点太多，如有0-n个节点，可将1-n个节点的密钥拷贝到0节点上，再将0节点的密钥分发给1-n节点

3. 检测是否配置成功

        # sp主机上
        ssh spark
        # spark主机上
        ssh sp

# 3.开始安装

将alluxio-community-1.7.1-hdp-2.6.tar.gz解压，解压后的目录为${ALLUXIO_HOME}

    [root@spark ~]# tar xvfz alluxio-community-1.7.1-hdp-2.6.tar.gz
    [root@spark ~]# ls
    alluxio-community-1.7.1-hdp-2.6  alluxio-community-1.7.1-hdp-2.6.tar.gz  data  hadoop  java  original-ks.cfg  pip  spark

我的{ALLUXIO_HOME}为：

    /root/alluxio-community-1.7.1-hdp-2.6


在下载Alluxio时，官网会发一封邮件，将附件的内容拷贝，写入到${ALLUXIO_HOME}/license.json中

![](http://ww1.sinaimg.cn/large/005N2p5vly1frm9qpi788j32801e0dz0.jpg)

![](http://ww1.sinaimg.cn/large/005N2p5vly1frm9su30v0j312g0gawh3.jpg)

    vim ${ALLUXIO_HOME}/license.json

将conf/alluxio-site.properties.template文件拷贝为conf/alluxio-site.properties。这个文件用来指定Alluxio的配置。

    # 在{ALLUXIO_HOME}下
    cp conf/alluxio-site.properties.template conf/alluxio-site.properties

编辑conf/alluxio-site.properties文件：


































