

# 时间序列的分析

#### 时间序列的结构

横坐标为时间，纵坐标为要预测的值。时间是离散的，分为两个单位，一个是xt，xt代表一段时间，xt包含很多个时间点，比如说ms，记做stj。

#### 时间序列分析原理

时间序列假设当前所求的一段时间xt的值与过去的xt-1,xt-2....有关

#### 时间序列的生成、推测及白噪声

在生成时间序列时，假设服从周期性分布，如图所示

![](http://ww1.sinaimg.cn/large/005N2p5vly1fukm6engx6j31im1b4aow.jpg)


理想中的时间序列是平滑的（smoothness），但在实际情况中是不太可能的，现实中总会有噪声干扰曲线，导致曲线平滑度降低。为了模拟现实中的曲线，引入白噪声的概念。对每个生成值加上对应的白噪声的值，及得到最终曲线。

白噪声通常假设 每个变量独立同分布于正态分布（均值为0，方差为σw2）。第二张图表示加上方差为1的噪声，第三张图表示加上方差为25的噪声。可以看出，当方差越大时，基本看不出原本是什么形状，方差为1时可以看出大致形状及周期。在分析时间序列时，目的是得到一个特征明显的曲线（图1），因此观测到的曲线越平滑越好，也就是说白噪声的方差小，曲线的振幅大。这样更容易推测出原始曲线。


白噪声服从于正态分布，是因为在正态分布中，90%多的数据集中在一个范围，仅有少数离群值，白噪声依据正态分布随机生成，更贴近实际情况中的噪声分布。


![](http://ww1.sinaimg.cn/large/005N2p5vly1fukmyizj9pj30j60dodlx.jpg)


#### 总结

在进行时间序列的分析、预测时，尽可能得到振幅更大、方差越小的序列。之后要对时间序列进行平滑处理（使其白噪声方差更小），这样可以更准确、轻松的估计出原始序列及噪声，可用于后续预测。


# 如何平滑曲线——moving average


moving average是平滑曲线的其中一种方式。下图中，通过moving average，使曲线方差降低，更平滑。

![](http://ww1.sinaimg.cn/large/005N2p5vly1fukne0oqgkj31kc180dsd.jpg)


moving average的原理是：通过对原始值取平均值的方法，生成一个新的序列。新的序列是原始值的平均值，因此能起到使曲线更平滑的作用。

例如在上图中，通过如下公式生成新的曲线：

![](http://ww1.sinaimg.cn/large/005N2p5vly1fuknkjfofkj30jq03idfu.jpg)


w是原始值，v是生成的更平滑的曲线。在这里，取3个相邻值的平均值。也可以取更多或者更少的相邻值。

moving average适用于上面的总体趋势不明显的曲线。下图这类有明显振动趋势的曲线就不需要moving average使其平滑。

![](http://ww1.sinaimg.cn/large/005N2p5vly1fuknpmu81ij31500rajxs.jpg)





# 时域分析、频域分析、光谱分析

#### 时域方法

假定时间上邻近的点的关系是根据当前值与过去值的依赖关系。在使用时域分析对预测未来值的建模时，参照当前值和过去值之间的函数关系。


如：线性回归。某个时间序列的当前值，取决于它的过去值和另一个时间序列的过去值。


#### 频域方法

频域分析假定 分析的原始数据是有周期性的。这些周期性的变化可以是由生理、物理、环境等导致的。

#### 光谱分析

频域方法用来分析周期性的时间序列，用来分析的方法是光谱分析。光谱分析通过每个选定的周期的方差来评估时间序列的各种各样的周期性变化。

在使用光谱分析时，频域的方差分布称为power spectrum。


#### 时域方法与频域方法的联系

时域方法与频域方法并没有明显的分界线。

在一个很长的时间序列上，时域与频域的预测结果差不多，但是对于短时间的预测，时域分析的效果更好一些。在某些情况下，频域分析公式只是向时域分析提供了一个概念：要计算什么。（周期）

在实际进行时间序列分析时，需要两种方法互补的使用。


>- [ ] 修改建议（2018-08-31）：1.开始说明时域、频域、光谱分析方法时的衔接不够流畅。2.moving average废话太多。3.介绍时间序列生成及如何加上白噪声时，应在叙述中加上是对哪张图的说明，不然容易混乱。



















